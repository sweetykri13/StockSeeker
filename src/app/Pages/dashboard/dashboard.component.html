<div class="container">
    <div class="columns is-mobile">
        <div class="column tick" *ngFor="let stock of filteredStockData;let i = index">      
            <ng-container *ngIf="i < 6">
                <div class="subtitle is-6">{{stock.livePriceDto.symbol}}<span
                        class="price is-pulled-right"><strong>{{stock.livePriceDto.ltp}}</strong></span>
                    <div *ngIf="stock.livePriceDto.open - stock.livePriceDto.ltp > 0" class="text-green mt-1" style="text-align: center;"><span
                            style="font-size: 1.2rem;"><b>+{{(stock.livePriceDto.open -
                            stock.livePriceDto.ltp).toFixed(2)}}</b></span>
                    </div>
                    <div *ngIf="(stock.livePriceDto.open - stock.livePriceDto.ltp) &lt; 0" class="text-red mt-1" style="text-align: center;"><span
                            style="font-size: 1.2rem;"><b>{{(stock.livePriceDto.open -
                            stock.livePriceDto.ltp).toFixed(2)}}</b></span>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
    <div class="background-image">
        <img src="assets/stockhomeimage.jpg" alt="Background Image" style="width: 100%; height: calc(100vh - 104px); object-fit: cover;opacity: 0.2;">
        <div class="container">
<div style="color:#344563; display: flex; justify-content: center;">
    
    <input #searchInput type="search" placeholder="Search Company Name"
        style="background-repeat: no-repeat; background-position: 10px center; padding-left: 16px; margin: 20px 0; border: 2px solid gainsboro; border-color: green; font-size: 15px; color: green; border-radius: 2px; width: 521px; height: 50px;"
        (input)="searchItem($event)" [(ngModel)]="searchQuery" />
</div>
<div class="" style="max-height: 460px;overflow: auto;border: 2px solid green;">
    <table mat-table [dataSource]="dataSource" style="margin-left: 0;max-height: 470px;overflow: auto;margin-top: 0;" matSort>
        <ng-container matColumnDef="company">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>COMPANY</th>
            <td mat-cell *matCellDef="let row">{{row.companyName}}</td>
        </ng-container>
        <ng-container matColumnDef="marketPrice">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> MARKET PRICE
            </th>
            <td mat-cell *matCellDef="let row">{{row.livePriceDto.ltp}}</td>
        </ng-container>
        <ng-container matColumnDef="closePrice">
            <th mat-header-cell *matHeaderCellDef>CLOSE PRICE</th>
            <td mat-cell *matCellDef="let row">{{row.closePrice}}</td>
        </ng-container>
        <ng-container matColumnDef="marketCap">
            <th mat-header-cell *matHeaderCellDef> MARKET CAP</th>
            <td mat-cell *matCellDef="let row">{{row.marketCap}}</td>
        </ng-container>
        <ng-container matColumnDef="trend">
            <th mat-header-cell *matHeaderCellDef> TREND</th>
            <td mat-cell *matCellDef="let row">
                <span *ngIf="row.livePriceDto.open - row.livePriceDto.ltp > 0" style="color: green;">
                    <mat-icon>arrow_upward</mat-icon>
                </span>
                <span *ngIf="row.livePriceDto.open - row.livePriceDto.ltp < 0" style="color: red;">
                    <mat-icon>arrow_downward</mat-icon>

                </span>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="['company', 'marketPrice', 'closePrice','marketCap','trend']; sticky: true" style="background: green;"></tr>
        <tr class="clickable-row" mat-row
            *matRowDef="let row; columns: ['company', 'marketPrice', 'closePrice','marketCap','trend']"></tr>
    </table>
    <ng-template #noData>
        <p>No data available</p>
    </ng-template>
</div>
</div>
    </div>
</div>
